<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - CodingBlog</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/admin.css" />
    <link href="~/css/hamburgers.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <script src="https://cdn.tiny.cloud/1/d4jnowz8q9v8hxycqpecyr889yp9jjyp62nj3iqy5hga18xj/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
</head>

<body>
    <div class="left">
        <div class="sidebar closed">
            <div class="sidebarHead">
                @if (User.IsInRole("Admin"))
                {
                    <span>Admin Panel</span>
                }
                else if (User.IsInRole("Moderator"))
                {
                    <span>Moderator Panel</span>
                }
            </div>
    
            <ul class="navItems">
                @if (User.IsInRole("Admin"))
                {
                    <li>
                        <h4>Blogs</h4>
                        <a asp-controller="Blogs" asp-action="Index">
                            <svg width="1.5em" height="1.5em" viewBox="0 0 16 16" class="bi bi-list-ul" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                            </svg>
                            <span>
                                All Blogs
                            </span>
                        </a>
                        <a asp-controller="Blogs" asp-action="Create">
                            <svg width="1.5em" height="1.5em" viewBox="0 0 16 16" class="bi bi-plus-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" />
                                <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
                            </svg>
                            <span>
                                New Blog
                            </span>
                        </a>
                    </li>
                    <li>
                        <h4>Posts</h4>
                        <a asp-controller="Posts" asp-action="Index">
                            <svg width="1.5em" height="1.5em" viewBox="0 0 16 16" class="bi bi-list-ul" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                            </svg>
                            <span>
                                All Posts
                            </span>
                        </a>
                        <a asp-controller="Posts" asp-action="Create">
                            <svg width="1.5em" height="1.5em" viewBox="0 0 16 16" class="bi bi-pencil-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z" />
                            </svg>
                            <span>
                                New Post
                            </span>
                        </a>
                    </li>
                }
                <li>
                    <h4>Comments</h4>
                    <a asp-controller="Comments" asp-action="Index">
                        <svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-chat-dots" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z" />
                            <path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" />
                        </svg>
                        <span>
                            Stream
                        </span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <div class="main closed">
        @*<nav class="navbar navbar-dark bg-dark navbar-expand-sm navbar-toggleable-sm box-shadow">
            <div class="container">
                <a class="navbar-brand" asp-area="" asp-controller="Home" asp-action="Index">CodingBlog</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse  collapse d-sm-inline-flex flex-sm-row-reverse">
                    <partial name="_LoginPartial" />
                </div>
            </div>
        </nav>*@
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark static-top">
            <div class="container">
                <div class="navbar-wrapper">
                    <div class="hamburgerHelper">
                        <button id="toggle" class="hamburger hamburger--elastic" type="button">
                            <span class="hamburger-box">
                                <span class="hamburger-inner"></span>
                            </span>
                        </button>
                    </div>

                    <a class="navbar-brand" asp-controller="Home" asp-action="Index">< Back To Blog</a>
                </div>
            </div>
        </nav>
        <div class="right">
            <!-- Page Content -->
            <div class="container-fluid h-100 p-5 area" style="height:100%">
                @RenderBody()
            </div>
        </div>
    </div>

    @*<footer class="border-top footer text-muted">
            <div class="container">
                &copy; 2020 - CodingBlog - <a asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
            </div>
        </footer>*@
    <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
    <script src="https://use.fontawesome.com/3312a5a81e.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script type="text/javascript">

        function EditComment(id) {
            document.getElementById(`comment-form-id-${id}`).style.display = "block";
        } 
        function CancelEditComment(id) {
            document.getElementById(`comment-form-id-${id}`).style.display = "none";
        }

        function showname() {
            let name = document.getElementById('choose-file-input');
            document.getElementById("file-selected").innerHTML = name.files.item(0).name;
        };

        tinymce.init({
            selector: '#content',
            skin: "oxide-dark",
            content_css: "dark",
            height: "50vh"
        });

        let toggle = false;
        document.querySelector('.hamburgerHelper').addEventListener("click", function () {
            toggleSideNav();
        })

        function toggleSideNav() {
            if (!toggle) {
                toggle = true;
                openSideNav()
            } else {
                toggle = false;
                closeSideNav();
            }
        }

        function openSideNav() {
            toggle = true;
            hamburger = document.getElementById('toggle');
            sidebar = document.querySelector('.sidebar');
            main = document.querySelector('.main');

            hamburger.classList.add('is-active');
            sidebar.classList.remove('closed');
            sidebar.classList.add('open');

            main.classList.remove('closed');
            main.classList.add('open');
        }

        function closeSideNav() {
            toggle = false;
            hamburger = document.getElementById('toggle');
            sidebar = document.querySelector('.sidebar');
            main = document.querySelector('.main');

            hamburger.classList.remove('is-active')
            sidebar.classList.remove('open');
            sidebar.classList.add('closed');

            main.classList.remove('open');
            main.classList.add('closed');
        }

    </script>
    <script>
        let toggle = false;
        function toggleNew() {
            addNewOptionsPopUp = document.getElementById('add-options-wrapper');
            if (toggle) {
                addNewOptionsPopUp.style.display = "none";
                toggle = false;
            } else {
                addNewOptionsPopUp.style.display = "block";
                toggle = true;
            }
        }


        var postList = new List('post-container', {
            page: 10,
            pagination: true
        });
    </script>
    @RenderSection("Scripts", required: false)
</body>
</html>